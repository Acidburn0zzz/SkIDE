<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html, body {
            overflow: hidden;
            margin: 0;
        }

        #root {
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body>
<div id="root"></div>


<script src="lib/vs/loader.js" type="application/javascript"></script>
<script src="integrator.js" type="application/javascript"></script>
<script type="application/javascript">


    var loadErrors = [];

    function getDefaultOptions() {
        return {
            language: 'skript',
            theme: 'vs-dark',
            automaticLayout: true,
            mouseWheelScrollSensitivity: 0.1
        };
    }

    function startEditor(options) {


        editor = monaco.editor.create(document.getElementById('root'), options);

        editor.onDidChangeModel(function (ev) {
            if (ev == null) {
                getHook().eventNotify("onDidChangeModel", {})
            } else {
                getHook().eventNotify("onDidChangeModel", ev)

            }
        });
        editor.onDidChangeModelContent(function (ev) {
            console.log(ev);
            if (ev == null) {
                getHook().eventNotify("onDidChangeModelContent", {})
            } else {
                getHook().eventNotify("onDidChangeModelContent", ev)

            }
        });
        return editor;
    }

    function addAction(id, label) {
        return editor.addAction({
            id: id,
            label: label,
            keybindings: [
                /*
                   monaco.KeyMod.CtrlCmd | monaco.KeyCode.F10,
                   // chord
                   monaco.KeyMod.chord(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KEY_K, monaco.KeyMod.CtrlCmd | monaco.KeyCode.KEY_M)
                 */
            ],

            precondition: null,
            keybindingContext: null,
            contextMenuGroupId: 'menu',
            contextMenuOrder: 1.5,


            run: function (ed) {

                getHook().actionFire(id, ed)
            }
        });


    }


    var getObj = function () {
        return {};
    };
    var getArr = function () {
        return [];
    };
    var getHook = function () {
        return skide;
    };
    var editor = null;
    var selection = null;

    function cbhReady() {
        require.config({paths: {'vs': 'lib/vs'}});
        require(['vs/editor/editor.main'], function () {
            registerSkript();
            selection = monaco.Selection;
            cbh.call();

        });
    }
</script>
</body>
</html>